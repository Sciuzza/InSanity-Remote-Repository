<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Bat</name>
    <events>
        <variable constant="0" name="batHealth" sid="7708902170349921" static="0" type="number">2</variable>
        <variable constant="0" name="X" sid="2711989797849876" static="0" type="number">0</variable>
        <variable constant="0" name="Y" sid="8818058152452902" static="0" type="number">0</variable>
        <variable constant="0" name="A" sid="9868331277332384" static="0" type="number">90</variable>
        <event-group description="" sid="7102243465795764" title="Bat Spawn">
            <sub-events>
                <event-block sid="3178456686477456">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="4876009236331549" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="194955768163976" type="Bat" />
                        <action id="0" name="Spawn another object" sid="6131887818401013" type="BatSpawn">
                            <param id="0" name="Object">Bat</param>
                            <param id="1" name="Layer">6</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="1152175695656894" title="Bat Movement">
            <sub-events>
                <event-block sid="927442992441931">
                    <conditions>
                        <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="9396319653377754" type="BatSpawn">
                            <param id="0" name="Object">Player_Box</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="6565582802967885" type="System">
                            <param id="0" name="Variable">X</param>
                            <param id="1" name="Value">cos(time*50)*80</param>
                        </action>
                        <action id="-9" name="Set value" sid="3550067039463114" type="System">
                            <param id="0" name="Variable">Y</param>
                            <param id="1" name="Value">sin(time*50)*250</param>
                        </action>
                        <action id="-3" name="Set position" sid="3698532288311119" type="Bat">
                            <param id="0" name="X">X*cos(A) - Y*sin(A) + CenterEllipse.X</param>
                            <param id="1" name="Y">Y*cos(A) + X*sin(A) + CenterEllipse.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2142289212933025">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="6556131031027391" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="1381643192819868" type="CenterEllipse">
                            <param id="0" name="X">Player_Box.X</param>
                            <param id="1" name="Y">Player_Box.Y - 100</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="7416522911668573" title="Bat combat part">
            <sub-events>
                <event-block sid="2436537726219514">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="2372644996311497" type="Bullet_1_Player">
                            <param id="0" name="Object">Bat</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Subtract from" sid="8449610013866733" type="System">
                            <param id="0" name="Variable">batHealth</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3389968907546167">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="2392817195519455" type="System">
                            <param id="0" name="Variable">batHealth</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="9692389452451764" type="Bat" />
                    </actions>
                </event-block>
                <comment>Da sistemare il pin</comment>
                <event-block disabled="1" sid="3488539051382917">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="1852054121197572" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Pin" id="0" name="Pin to object" sid="2279171327408402" type="BatArmor">
                            <param id="0" name="Pin to">Bat</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="-3" name="Set position" sid="8640311563528283" type="BatArmor">
                            <param id="0" name="X">Bat.X - 9</param>
                            <param id="1" name="Y">bat.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="5474137138634766">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="8536243616405663" type="Bullet_1_Player">
                            <param id="0" name="Object">BatArmor</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="6824099185084661" type="BatArmor" />
                        <action id="-9" name="Set value" sid="6446911980452811" type="System">
                            <param id="0" name="Variable">batHealth</param>
                            <param id="1" name="Value">2</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
