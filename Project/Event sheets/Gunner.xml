<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Gunner</name>
    <events>
        <variable constant="0" name="enemyRange" sid="376835598564444" static="0" type="number">50</variable>
        <event-group description="" sid="6536710278078746" title="Start Setup">
            <sub-events>
                <event-block sid="5946792038180888">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="5038448824040323" type="System" />
                        <condition id="-11" name="For Each" sid="6974337511310184" type="System">
                            <param id="0" name="Object">Gunner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="7351026692219539" type="AngleHelper2" />
                        <action id="0" name="Spawn another object" sid="2355832058454214" type="Gunner">
                            <param id="0" name="Object">AngleHelper2</param>
                            <param id="1" name="Layer">10</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="4574838431621849" type="AngleHelper2">
                            <param id="0" name="Instance variable">parent</param>
                            <param id="1" name="Value">Gunner.UID</param>
                        </action>
                        <action id="-9" name="Destroy" sid="2577719407223943" type="GunnerBullet" />
                    </actions>
                </event-block>
                <event-block sid="2495700424541065">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="9937520032612982" type="System">
                            <param id="0" name="Interval (seconds)">dt</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-22" name="Set angle toward position" sid="9157191631050252" type="AngleHelper2">
                            <param id="0" name="X">Player_Box.X</param>
                            <param id="1" name="Y">Player_Box.Y - 20</param>
                        </action>
                        <action id="-4" name="Set position to another object" sid="3732510266883921" type="AngleHelper2">
                            <param id="0" name="Object">Gunner</param>
                            <param id="1" name="Image point (optional)">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="1243050110157558" title="Mirror System">
            <sub-events>
                <comment>Gunner Mirror Part</comment>
                <event-block sid="5233503403824735">
                    <conditions>
                        <condition id="-11" name="For Each" sid="4041217213309762" type="System">
                            <param id="0" name="Object">Gunner</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="5608633006217281">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="9848579790135003" type="Gunner">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="X co-ordinate">Player_Box.X</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="7" name="Set mirrored" sid="1037259436866912" type="Gunner">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action behavior="Platform" id="7" name="Simulate control" sid="4229263898669097" type="Gunner">
                                    <param id="0" name="Control">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3092242518976968">
                            <conditions>
                                <condition id="-22" name="Else" sid="5503143773479439" type="System" />
                            </conditions>
                            <actions>
                                <action id="7" name="Set mirrored" sid="348231264184311" type="Gunner">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action behavior="Platform" id="7" name="Simulate control" sid="6042641815165493" type="Gunner">
                                    <param id="0" name="Control">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="933845398846658" title="A.I. Part">
            <sub-events>
                <comment>Movement part</comment>
                <comment>Shooting Part</comment>
                <event-block sid="6894769440441822">
                    <conditions>
                        <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="7496941230884595" type="Gunner">
                            <param id="0" name="Object">Player_Box</param>
                        </condition>
                        <condition id="-6" name="Every X seconds" sid="8301004518799558" type="System">
                            <param id="0" name="Interval (seconds)">random(1,2)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="7542294643358075" type="AngleHelper2">
                            <param id="0" name="Object">GunnerBullet</param>
                            <param id="1" name="Layer">10</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-8" name="Set angle" sid="691935902020507" type="GunnerBullet">
                            <param id="0" name="Angle">AngleHelper2.Angle</param>
                        </action>
                        <action id="-10" name="Set value" sid="2044047405393127" type="Gunner">
                            <param id="0" name="Instance variable">firetimer</param>
                            <param id="1" name="Value">Self.firerate</param>
                        </action>
                        <action id="-10" name="Set value" sid="6126349450422213" type="Gunner">
                            <param id="0" name="Instance variable">firetimer</param>
                            <param id="1" name="Value">max(0, Gunner.firetimer - dt)</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Fight Part</comment>
                <event-block sid="1106768319359509">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="7524953159065752" type="Bullet_1_Player">
                            <param id="0" name="Object">Gunner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="1664022427957204" type="Gunner">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-9" name="Destroy" sid="2794076708482514" type="Bullet_1_Player" />
                    </actions>
                </event-block>
                <event-block sid="7623824566276349">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="336013405389577" type="GunnerBullet">
                            <param id="0" name="Object">Player_Box</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="9126505061958731" type="Player_Box">
                            <param id="0" name="Instance variable">Dash</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="9923957951498052" type="Player_Box">
                            <param id="0" name="Instance variable">Life</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-9" name="Destroy" sid="701071719348313" type="GunnerBullet" />
                    </actions>
                </event-block>
                <event-block sid="235902930631623">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="1839306304513619" type="Player_Box">
                            <param id="0" name="Object">Gunner</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="6584412240684633" type="Player_Box">
                            <param id="0" name="Instance variable">Dash</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="2208727329925749" type="Player_Box">
                            <param id="0" name="Instance variable">Life</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="678037265229738" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-16" name="Wait" sid="8227846094556365" type="System">
                            <param id="0" name="Seconds">0.5</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="5430075207528264" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="7759751732215384" type="Gunner">
                            <param id="0" name="Max Speed">30</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Animation </comment>
                <event-block sid="7705296856881437">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="2378231476281806" type="Gunner">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="7886237588148567" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="4745440818358225" type="Gunner">
                            <param id="0" name="Animation">&quot;2Arms_Idle&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1831744878981654">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="5020287908968234" type="Gunner">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="8578771793963492" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="1641953335698742" type="Gunner">
                            <param id="0" name="Animation">&quot;1Arm_Idle&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3903412866390744">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="4373147803123773" type="Gunner">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="1415142867845293" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="2436478015868991" type="Gunner">
                            <param id="0" name="Animation">&quot;No_Arms_Idle&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-9" name="Destroy" sid="2852315608729598" type="AngleHelper2" />
                        <action id="-9" name="Destroy" sid="3494891165892123" type="GunnerArm2" />
                    </actions>
                </event-block>
                <event-block sid="2003689304229427">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="2856542917132713" type="Gunner">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="4820048942132364" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="536914512597568" type="Gunner">
                            <param id="0" name="Animation">&quot;2_Arms_Walk&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2432706187454874">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="9661538310471819" type="Gunner">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="2839970634041481" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="6853292874969101" type="Gunner">
                            <param id="0" name="Animation">&quot;1Arm_Walk&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="663982815092109">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="8420738835838148" type="Gunner">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="6352400431068295" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="4544279900010353" type="Gunner">
                            <param id="0" name="Animation">&quot;No_Arms_Walk&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-9" name="Destroy" sid="7864404265680645" type="AngleHelper2" />
                        <action id="-9" name="Destroy" sid="6342665022570801" type="GunnerArm2" />
                    </actions>
                </event-block>
                <event-block sid="3941129284412686">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="9639674125945413" type="Gunner">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="9375425354292377" type="Gunner">
                            <param id="0" name="Animation">&quot;Death&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="7309327262547284" type="Gunner">
                            <param id="0" name="Max Speed">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="6330879829882946">
                            <conditions>
                                <condition id="4" name="On finished" sid="8636964543137729" type="Gunner">
                                    <param id="0" name="Animation">&quot;Death&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="1033701873888112" type="Gunner" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="6187886231517741" title="Gunner movement">
            <sub-events>
                <event-block sid="3897465775269957">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="9431569677980481" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="6325321772486533" type="Gunner">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Value">random(1,3)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1370107739210156">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="4668589738867996" type="Gunner">
                            <param id="0" name="Instance variable">isMoving</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="1" name="Set max speed" sid="10411001963966" type="Gunner">
                            <param id="0" name="Max Speed">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8104319169974964">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="3545383897999174" type="Gunner">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="6645748973129189" type="Gunner">
                            <param id="0" name="Control">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6928092096241343">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="3781301315353625" type="Gunner">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="2075023991221271" type="Gunner">
                            <param id="0" name="Control">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
